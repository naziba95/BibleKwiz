import{x as V,r as s,c as v,a as o,d as g,m as w,n as d,v as i,t as y,G as k,B as C,o as x}from"./fNgEoHnC.js";import{u as E}from"./BfqfkKoQ.js";const S={class:"min-h-screen flex items-center justify-center bg-gray-50 py-12 px-4 sm:px-6 lg:px-8"},z={class:"max-w-md w-full space-y-8"},N={class:"mt-2 text-center text-sm text-gray-600"},B={class:"rounded-md shadow-sm -space-y-px"},q=["disabled"],T={key:0,class:"mt-2 text-center text-sm text-red-600"},F={__name:"signUp",setup(M){const h=E(),f=C().public.apiBaseUrl;console.log(f);const b=V(),a=s(""),t=s(""),p=s(""),n=s(""),u=s(""),m=s(!1),c=s(""),P=async()=>{c.value="",m.value=!0;try{if(!a.value||!t.value||!p.value||!n.value||!u.value)throw new Error("Please fill in all fields");if(n.value.length<8)throw new Error("Password must be at least 8 characters long");if(n.value!==u.value)throw new Error("Passwords do not match");const r=await $fetch(`${f}/users/signup`,{method:"POST",body:{fullName:a.value,email:t.value,phoneNumber:p.value,password:n.value,confirmPassword:u.value}});if(console.log(r),!r)throw new Error("An error occurred, please try again in few minutes");if(r.statusCode!==201)throw new Error(r.message);console.log("User signed up:",{name:a.value,email:t.value}),h.setUser(r.data),console.log(r.data),b.push("/login")}catch(r){c.value=r.message||"An error occurred during signup"}finally{m.value=!1}},U=()=>{b.push("/login")};return(r,e)=>(x(),v("div",S,[o("div",z,[o("div",null,[e[6]||(e[6]=o("h2",{class:"mt-6 text-center text-3xl font-extrabold text-gray-900"}," Create your account ",-1)),o("p",N,[e[5]||(e[5]=g(" Or ")),o("a",{href:"#",class:"font-medium text-blue-600 hover:text-blue-500",onClick:w(U,["prevent"])}," sign in to your existing account ")])]),o("form",{class:"mt-8 space-y-6",onSubmit:w(P,["prevent"])},[e[13]||(e[13]=o("input",{type:"hidden",name:"remember",value:"true"},null,-1)),o("div",B,[o("div",null,[e[7]||(e[7]=o("label",{for:"name",class:"sr-only"},"Full name",-1)),d(o("input",{id:"name",name:"name",type:"text",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-t-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Full name","onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l)},null,512),[[i,a.value]])]),o("div",null,[e[8]||(e[8]=o("label",{for:"email-address",class:"sr-only"},"Email address",-1)),d(o("input",{id:"email-address",name:"email",type:"email",autocomplete:"email",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Email address","onUpdate:modelValue":e[1]||(e[1]=l=>t.value=l)},null,512),[[i,t.value]])]),o("div",null,[e[9]||(e[9]=o("label",{for:"phone-number",class:"sr-only"},"Phone number",-1)),d(o("input",{id:"phone-number",name:"phoneNumber",type:"tel",autocomplete:"tel",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Phone number","onUpdate:modelValue":e[2]||(e[2]=l=>p.value=l)},null,512),[[i,p.value]])]),o("div",null,[e[10]||(e[10]=o("label",{for:"password",class:"sr-only"},"Password",-1)),d(o("input",{id:"password",name:"password",type:"password",autocomplete:"new-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Password","onUpdate:modelValue":e[3]||(e[3]=l=>n.value=l)},null,512),[[i,n.value]])]),o("div",null,[e[11]||(e[11]=o("label",{for:"confirmPassword",class:"sr-only"},"Confirm Password",-1)),d(o("input",{id:"confirmPassword",name:"confirmPassword",type:"password",autocomplete:"new-password",required:"",class:"appearance-none rounded-none relative block w-full px-3 py-2 border border-gray-300 placeholder-gray-500 text-gray-900 rounded-b-md focus:outline-none focus:ring-blue-500 focus:border-blue-500 focus:z-10 sm:text-sm",placeholder:"Confirm Password","onUpdate:modelValue":e[4]||(e[4]=l=>u.value=l)},null,512),[[i,u.value]])])]),o("div",null,[o("button",{type:"submit",class:"group relative w-full flex justify-center py-2 px-4 border border-transparent text-sm font-medium rounded-md text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",disabled:m.value},[e[12]||(e[12]=o("span",{class:"absolute left-0 inset-y-0 flex items-center pl-3"},[o("svg",{class:"h-5 w-5 text-blue-500 group-hover:text-blue-400",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[o("path",{"fill-rule":"evenodd",d:"M5 9V7a5 5 0 0110 0v2a2 2 0 012 2v5a2 2 0 01-2 2H5a2 2 0 01-2-2v-5a2 2 0 012-2zm8-2v2H7V7a3 3 0 016 0z","clip-rule":"evenodd"})])],-1)),g(" "+y(m.value?"Signing up...":"Sign up"),1)],8,q)])],32),c.value?(x(),v("div",T,y(c.value),1)):k("",!0)])]))}};export{F as default};
